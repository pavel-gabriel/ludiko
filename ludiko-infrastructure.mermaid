graph TB
    subgraph Users["ğŸ‘¥ Users"]
        Kid["ğŸ§’ Child Player<br/>(tablet/phone)"]
        Teacher["ğŸ‘©â€ğŸ« Teacher<br/>(any device)"]
        Admin["ğŸ”§ Admin (You)"]
    end

    subgraph GitHubPages["ğŸ“¦ GitHub Pages (Frontend Hosting)"]
        React["âš›ï¸ React + Vite App<br/>TypeScript + Tailwind"]
        SW["ğŸŒ Static Files<br/>HTML / JS / CSS / Assets"]
    end

    subgraph Firebase["ğŸ”¥ Firebase (Backend Services)"]
        Auth["ğŸ” Firebase Auth<br/>Google Sign-In (teachers)<br/>Email/Password (teachers)<br/>Anonymous (kids)"]
        RTDB["âš¡ Realtime Database<br/>Room state & sync<br/>Live player positions<br/>Live leaderboard<br/>Game session data"]
        Firestore["ğŸ’¾ Firestore<br/>Game history<br/>Teacher templates<br/>Leaderboard records<br/>Student codes<br/>Admin aggregate stats"]
    end

    subgraph CICD["ğŸ”„ CI/CD Pipeline"]
        GH_Actions["âš™ï¸ GitHub Actions"]
        Dev["ğŸŒ¿ dev branch"]
        Main["ğŸŒ¿ main branch"]
    end

    subgraph AppInternals["ğŸ§  App Architecture"]
        Router["ğŸ§­ React Router v6<br/>Page navigation"]
        Zustand["ğŸ“Š Zustand Store<br/>Global state"]
        i18n["ğŸŒ react-i18next<br/>RO / EN + more"]
        GameEngine["ğŸ® Game Engine<br/>Question generation<br/>Scoring logic"]
        RoomManager["ğŸšª Room Manager<br/>Create/join rooms<br/>Real-time sync"]
    end

    Kid -->|"Join via room code<br/>(no account)"| React
    Teacher -->|"Login + create sessions"| React
    Admin -->|"View admin dashboard"| React

    React --> Router
    Router --> Zustand
    Zustand --> GameEngine
    Zustand --> RoomManager
    React --> i18n

    RoomManager -->|"WebSocket-like sync"| RTDB
    GameEngine -->|"Save results"| Firestore
    React -->|"Login/signup"| Auth
    Teacher -->|"Templates & history"| Firestore

    Dev -->|"PR merge"| Main
    Main -->|"Auto-deploy"| GH_Actions
    GH_Actions -->|"Build & publish"| GitHubPages

    style Users fill:#fef3c7,stroke:#f59e0b,color:#000
    style GitHubPages fill:#dbeafe,stroke:#3b82f6,color:#000
    style Firebase fill:#fee2e2,stroke:#ef4444,color:#000
    style CICD fill:#d1fae5,stroke:#10b981,color:#000
    style AppInternals fill:#ede9fe,stroke:#8b5cf6,color:#000
